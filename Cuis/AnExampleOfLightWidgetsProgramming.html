<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><!-- Provided by MyFreeTemplates.com -->


<title>Juan's place</title><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<meta content="Keywords here" name="keywords">
<meta content="Stuff from Juan Vuletich" name="description">
<meta content="MyFreeTemplates.com" name="Author">
<meta content="index, follow" name="robots"><!-- (Robot commands: All, None, Index, No Index, Follow, No Follow) -->

<meta content="30 days" name="revisit-after">
<meta content="global" name="distribution">
<meta content="general" name="rating">
<meta content="english" name="Content-Language">
<link type="text/css" rel="stylesheet" href="images/myfreetemplates.css"></head>
<body leftmargin="0" topmargin="0" onload="MM_preloadImages('images/btn_home_dn.jpg','images/btn_about_dn.jpg','images/btn_contact_dn.jpg','images/btn_products_dn.jpg','images/btn_support_dn.jpg','images/btn_news_dn.jpg')" marginheight="0" marginwidth="0">
<table border="0" cellpadding="0" cellspacing="0" height="100%" width="100%">
<tbody>
<tr>
<td height="87">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr>
<td rowspan="2" width="342"><img src="images/toplogo.jpg" height="87" width="342"></td>
<td rowspan="2" width="34"><img src="images/topmidspace.jpg" height="87" width="34"></td>
<td background="images/topbg.jpg"><img src="images/topbg.jpg" height="54" width="1"></td>
</tr>
<tr>
<td background="images/topnavbg.jpg"><a href="../index.html"><img style="border: 0px solid ; width: 55px; height: 33px;" alt="" src="images/btn_home.png" name="btn_home" id="btn_home" onmouseover="MM_swapImage('btn_home','','images/btn_home_dn.jpg',1)" onmouseout="MM_swapImgRestore()"></a><img src="images/navspacer.jpg" height="33" width="1"><a href="../aboutMe.html"><img style="border: 0px solid ; width: 58px; height: 33px;" alt="" src="images/btn_about.png" name="btn_about" id="btn_about" onmouseover="MM_swapImage('btn_about','','images/btn_about_dn.jpg',1)" onmouseout="MM_swapImgRestore()"></a><img src="images/navspacer.jpg" height="33" width="1"><a href="../features.html"><img style="border: 0px solid ; width: 67px; height: 33px;" alt="" src="images/btn_features.png" name="btn_contact" id="btn_contact" onmouseover="MM_swapImage('btn_contact','','images/btn_contact_dn.jpg',1)" onmouseout="MM_swapImgRestore()"></a><img src="images/navspacer.jpg" height="33" width="1"><a href="../projects.html"><img style="border: 0px solid ; width: 79px; height: 33px;" alt="" src="images/btn_projects.png" name="btn_products" id="btn_products" onmouseover="MM_swapImage('btn_products','','images/btn_products_dn.jpg',1)" onmouseout="MM_swapImgRestore()"></a><img src="images/navspacer.jpg" height="33" width="1"><a href="../research.html"><img style="border: 0px solid ; width: 72px; height: 33px;" alt="" src="images/btn_research.png" name="btn_support" id="btn_support" onmouseover="MM_swapImage('btn_support','','images/btn_support_dn.jpg',1)" onmouseout="MM_swapImgRestore()"></a><img src="images/navspacer.jpg" height="33" width="1"><img style="width: 50px; height: 33px;" alt="" src="images/btn_news.png" name="btn_news" id="btn_news" onmouseover="MM_swapImage('btn_news','','images/btn_news_dn.jpg',1)" onmouseout="MM_swapImgRestore()"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td valign="top">
<table background="images/topnavbg.jpg" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%">
<tbody>
<tr>
<td colspan="2" background="images/basebg2.jpg" height="9"><img src="images/basebg2.jpg" height="9" width="1"></td>
</tr>
<tr>
<td rowspan="2" valign="top" width="150">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr>
<td valign="top"><img style="width: 170px; height: 238px;" alt="" src="images/mainpic1.jpg"></td>
</tr>
<tr>
<td bgcolor="#ffffff" height="1"><img src="images/spacer.gif" height="1" width="1"></td>
</tr>
<tr>
<td><br>
<br>
<img src="images/spacer.gif" height="1" width="1"> &nbsp;<a href="http://www.jvuletich.org/Cuis/CategoriesAndChangeSets.txt"><span style="color: rgb(102, 51, 255);"></span></a><br>
<br>
</td>
</tr>
</tbody>
</table>
</td>
<td bgcolor="#ffffff" valign="top">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr>
<td colspan="3" background="images/navbasebg.jpg" height="29"><img src="images/navbasebg.jpg" height="29" width="1"></td>
</tr>
<tr>
<td width="40">&nbsp;</td>
<td>
<h2 style="text-align: right;">September 2010</h2>
<h1 style="text-align: center;"><br>
</h1>
<h1 style="text-align: center;"><big><big>An example of LightWidgets&nbsp;programming</big></big></h1>
<p><br><br>This is an example of what is described in "<a href="APatternForGUIProgramming.html"><span style="color: rgb(102, 51, 255);">A pattern for GUI programming</span></a>", which might be a little boring to
read with all those rules. This document, instead, shows the style of
LightWidgets programming based on a concrete example. It focuses on
building application guis, an not on building widgets themselves. GUIs
done following the LightWidgets ideas are very simple. Remembering the
rules might seem a bit rigid, but this avoids complexity in the GUI,
making long term mainteinance easier.</p><p>Note
that even though models are advised to inherit from ActiveModel,
STBLocalUser does not. This shows a general rule: Views don't have the
right to say how models should work. Models are independent of views.
In this case, STBLocalUser inherits from STBModel, the class of
persistent objects in the application.</p><p>Local users are pretty simple
objects. They have a userName, a password (only a passwordHash is
stored), and a list of groups the user belongs to.</p><p>The GUI has the following widgets:<br></p><ul><li><p>An entry field for the name</p></li><li><p>An entry field for the password</p></li><li><p>A list of groups the user belongs to. Selecting one and doing &lt;ok&gt; removes the group from the user</p></li><li><p>A list of available groups (groups the user does not belong to).
Selecting one and doing &lt;ok&gt; adds the group to the user.</p></li></ul><p>In addition, we have:<br></p><ul><li><p>A 'Create new User' button</p></li><li><p>A list of existing users. Selecting one and doing &lt;ok&gt; edits that user</p></li><li><p>A 'Save' button</p></li><li><p>A 'Close' button that exist without saving</p></li><li><p>A 'Delete' button used to actually delete the currently edited user</p></li></ul><p>Class
STBLocalUserEditorLW has several instance variables for holding its
widgets, one model extension 'password'. and one visual property:
'backColor'. Instance variable 'backColor' is only there to avoid
computing it each time thescreen is redrawn. Instance variable
'password' is needed because the STBLocalUser can not answer it.</p><p>The
model is an instance of STBLocalUser. However, the list of available
users does not depend on it. This list has content even if no model is
assigned yet. The model is set later, in messages #selectedUser: and
#newUser.<br><br></p><h3>Initialization<br></h3><p>Method
#initialize creates all the widgets. It is quite long but it does not
do anything interesting. It just creates the widgets, lays them out,
adds them as submorphs, and stores them in instance variables. It also
does 'self newUser', so the user does not need to click the button
before entering data.</p><p>Note that the target of all buttons is
'self', meaning that user commands will be processed by the editor
itself. In many cases, (as in the name fields in this editor) the
target of the actions would be the model instead.<br></p><h3>drawing</h3><p>Method #drawOn: is there only because the backColor is defined in this class.<br></p><h3>updating</h3><p>#updateView
- This method is called after a new model is set, or if model changes.
It sets labels to appropriate values, updates the current and available
group lists, and sets the STBUser as the target of the name field. In
addition it updates the users list.<br><br>#password - helper method to access the password entered by the user.<br><br>user commands<br>-----------------------<br><br>#newUser - Creates a new user and sets it as the model of the view.<br><br>#selectedUser:
- Sets the selected user as the model of the view. (Persistent objects
note: Persistence is paused, to be resumed in case of save. If the user
cancels, nothing should be persisted!)<br><br>#password: - This is processed here (and not just in the model) to store the password entered by the user.<br><br>#addGroup:&nbsp; - This is processed here (and not just in the model) to handle keyboard focus.<br><br>#removeGroup: - This is processed here (and not just in the model) to handle keyboard focus.<br><br>#saveUser - This makes changes persistent, and logs stuff.<br><br>#deleteUser - This removes the user from the persistent pool and logs stuff.<br><br>#cancel - This undoes any changes (by going back to the persisted state), resumes persistence, and closes the editor<br><br>That's all. It wasn't hard at all, was it?</p><p></p><p></p><p>
Thanks for reading.</p>
<br>
</td>
<td width="25">&nbsp;</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td bgcolor="#ffffff">&nbsp;</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td background="images/basebg1.jpg" height="24"><img src="images/basebg1.jpg" height="24" width="1"></td>
</tr>
<tr>
<td background="images/basebg2.jpg" height="44" valign="top">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr>
<td class="baseline" height="26">&nbsp;&nbsp;©
2006-2010 Juan M. Vuletich</td>
<td class="baseline" align="right"><span style="text-decoration: underline;"></span></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</body></html>